<!-- {% assign item = include.item %}
<div class="d-none d-md-block">
    <div class="row no-gutters border-bottom border-gray">
        <div class="col-md-3 col-xl-2 mb-md-0 p-md-3">
            {% if item.video %}
            <video class="w-100 rounded-sm publication-media" autoplay loop muted playsinline>
                <source src="{{ item.video }}" type="video/mp4">
            </video>
            {% else %}
            <img data-src="{{ item.cover }}" alt="{{ item.title }}" class="lazy w-100 rounded-sm publication-media" src="assets/images/empty_300x200.png">
            {% endif %}
        </div>
        <div class="col-md-9 col-xl-10 p-3 pl-md-0">
            <h5 class="mt-0 mb-1 font-weight-normal">{{ item.title }}</h5>
            <p class="mt-0 mb-0 small">{% include widgets/author_list.html authors=item.authors %}</p>
            <p class="mt-0 mb-0 small">{{item.pub_pre}}<i>{{ item.pub }}</i>{{ item.pub_post }} {{ item.pub_date }} {{ item.pub_last }}</p>
            <p class="mt-0 mb-0 small text-muted">{{ item.abstract }}</p>
            
            <p class="small pb-0 mb-0 lh-125 text-muted abstract-links">
                {% for link in item.links %}
                {% if link[1].url %}
                <a target="{{ link[1]['target'] }}" href="{{ link[1]['url'] }}">[{{ link[0] }}]</a>
                {% else %}
                <a target="_blank" href="{{ link[1] }}">[{{ link[0] }}]</a>
                {% endif %}
                {% endfor %}
            </p>
        </div>
    </div>
</div>

<div class="card w-100 d-md-none border-top-0 border-right-0 border-left-0 rounded-0" style="overflow-y: scroll;">
    {% if item.video %}
    <video class="w-100 publication-media-mobile" autoplay loop muted playsinline>
        <source src="{{ item.video }}" type="video/mp4">
    </video>
    {% else %}
    <img data-src="{{ item.cover }}" alt="{{ item.title }}" class="lazy card-img w-100 publication-media-mobile" src="assets/images/empty_300x200.png">
    {% endif %}
    <div class="card-img-overlay d-flex align-items-start flex-column" style="background-color: rgba(255, 255, 255, 0.85);">
        <div class="mb-auto"></div>
        <div>
            <h5 class="mt-0 mb-1 font-weight-normal">{{ item.title }}</h5>
            <p class="mt-0 mb-0 small">{% include widgets/author_list.html authors=item.authors %}</p>
            <p class="mt-0 mb-0 small">{{item.pub_pre}}<i>{{ item.pub }}</i>{{ item.pub_post }} {{ item.pub_date }} {{ item.pub_last }}</p>
            <p class="mt-0 mb-0 small text-muted d-none d-sm-block">{{ item.abstract }}</p>
            
            <p class="small pb-0 mb-0 lh-125 text-muted abstract-links">
                {% for link in item.links %}
                {% if link[1].url %}
                <a target="{{ link[1]['target'] }}" href="{{ link[1]['url'] }}">[{{ link[0] }}]</a>
                {% else %}
                <a target="_blank" href="{{ link[1] }}">[{{ link[0] }}]</a>
                {% endif %}
                {% endfor %}
            </p>
        </div>
    </div>
</div>

<style>
/* 桌面版媒体尺寸 */
.publication-media {
    max-width: 500px;  /* 最大宽度 */
    max-height: 400px; /* 最大高度 */
    object-fit: cover; /* 保持比例并填充容器 */
}

/* 移动版媒体尺寸 */
.publication-media-mobile {
    max-height: 400px; /* 最大高度 */
    object-fit: cover; /* 保持比例并填充容器 */
}

/* 移除视频的交互效果 */
video {
    pointer-events: none; /* 禁用所有鼠标事件 */
}
</style>  -->

{% assign item = include.item %}
<div class="d-none d-md-block">
    <div class="row no-gutters border-bottom border-gray">
        <div class="col-md-4 col-xl-3 mb-md-0 p-md-3">
            {% if item.video %}
            <video class="w-100 rounded-sm publication-media" autoplay loop muted playsinline preload="metadata" controls>
                <source src="{{ item.video }}" type="video/mp4">
                Your browser does not support the video tag.
            </video>
            {% else %}
            <img data-src="{{ item.cover }}" alt="{{ item.title }}" class="lazy w-100 rounded-sm publication-media" src="assets/images/empty_300x200.png">
            {% endif %}
        </div>
        <div class="col-md-8 col-xl-9 p-3 pl-md-0">
            <h5 class="mt-0 mb-1 font-weight-normal">{{ item.title }}</h5>
            <p class="mt-0 mb-0 small">{% include widgets/author_list.html authors=item.authors %}</p>
            <p class="mt-0 mb-0 small">{{item.pub_pre}}<i>{{ item.pub }}</i>{{ item.pub_post }} {{ item.pub_date }} {{ item.pub_last }}</p>
            <p class="mt-0 mb-0 small text-muted">{{ item.abstract }}</p>
            
            <p class="small pb-0 mb-0 lh-125 text-muted abstract-links">
                {% for link in item.links %}
                {% if link[1].url %}
                <a target="{{ link[1]['target'] }}" href="{{ link[1]['url'] }}">[{{ link[0] }}]</a>
                {% else %}
                <a target="_blank" href="{{ link[1] }}">[{{ link[0] }}]</a>
                {% endif %}
                {% endfor %}
            </p>
        </div>
    </div>
</div>

<div class="card w-100 d-md-none border-top-0 border-right-0 border-left-0 rounded-0" style="overflow-y: scroll;">
    {% if item.video %}
    <video class="w-100 publication-media-mobile" autoplay loop muted playsinline preload="metadata" controls>
        <source src="{{ item.video }}" type="video/mp4">
        Your browser does not support the video tag.
    </video>
    {% else %}
    <img data-src="{{ item.cover }}" alt="{{ item.title }}" class="lazy card-img w-100 publication-media-mobile" src="assets/images/empty_300x200.png">
    {% endif %}
    <div class="card-img-overlay d-flex align-items-start flex-column" style="background-color: rgba(255, 255, 255, 0.85);">
        <div class="mb-auto"></div>
        <div>
            <h5 class="mt-0 mb-1 font-weight-normal">{{ item.title }}</h5>
            <p class="mt-0 mb-0 small">{% include widgets/author_list.html authors=item.authors %}</p>
            <p class="mt-0 mb-0 small">{{item.pub_pre}}<i>{{ item.pub }}</i>{{ item.pub_post }} {{ item.pub_date }} {{ item.pub_last }}</p>
            <p class="mt-0 mb-0 small text-muted d-none d-sm-block">{{ item.abstract }}</p>
            
            <p class="small pb-0 mb-0 lh-125 text-muted abstract-links">
                {% for link in item.links %}
                {% if link[1].url %}
                <a target="{{ link[1]['target'] }}" href="{{ link[1]['url'] }}">[{{ link[0] }}]</a>
                {% else %}
                <a target="_blank" href="{{ link[1] }}">[{{ link[0] }}]</a>
                {% endif %}
                {% endfor %}
            </p>
        </div>
    </div>
</div> 
